{"version":3,"file":"js/OrderConfirmation.e9d230e0.js","mappings":"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","sources":["webpack://daojia/./src/views/shop/commonCartEffect.js","webpack://daojia/./src/views/OrderConfirmation/OrderConfirmation.vue","webpack://daojia/./src/views/OrderConfirmation/TopArea.vue","webpack://daojia/./src/views/OrderConfirmation/TopArea.vue?3cc4","webpack://daojia/./src/views/OrderConfirmation/ProductList.vue","webpack://daojia/./src/views/OrderConfirmation/ProductList.vue?d3dd","webpack://daojia/./src/views/OrderConfirmation/Order.vue","webpack://daojia/./src/views/OrderConfirmation/Order.vue?9ca1","webpack://daojia/./src/views/OrderConfirmation/OrderConfirmation.vue?2535"],"sourcesContent":["import { useStore } from 'vuex'\r\nimport { toRefs,computed } from 'vue';\r\n\r\nexport const useCommonEffert=(shopId)=>{\r\n    const store=useStore();\r\n    const { CartList }=toRefs(store.state);\r\n    const addItemToCart=(shopId,productid,productinfo)=>{\r\n        store.commit('addItemToCart',{\r\n            shopId,productid,productinfo\r\n        })\r\n    }\r\n    const downItemToCart=(shopId,productid,productinfo)=>{\r\n        if(store.state.cartList?.[shopId]?.[productid]?.count===0)\r\n        {\r\n            return;\r\n        }\r\n         store.commit('downItemToCart',{\r\n            shopId,productid,productinfo\r\n        })\r\n    }\r\n    const cartList = store.state.cartList;\r\n    const total=computed(()=>{\r\n        const productLists=cartList[shopId]?.productList;\r\n        const shopName=cartList[shopId]?.shopName;\r\n          let count=0;\r\n          let summoney=0;\r\n          if(productLists)\r\n          {\r\n              for(let i in productLists)\r\n              {\r\n                  const product=productLists[i]\r\n                  count+=product.count;\r\n                  if(product.check)\r\n                  {\r\n                    summoney+=product.count*product.price;\r\n                  }\r\n              }\r\n          }\r\n          const productList={}\r\n          for(let i in productLists)\r\n          {\r\n            const product=productLists[i];\r\n            if(product.count>0)\r\n            {\r\n                productList[i]=product;\r\n            }\r\n          }\r\n        //   返回加购数量，总金额，商品列表，店铺名称\r\n          return [count,summoney.toFixed(2),productList,shopName];\r\n      });\r\n    return {CartList,addItemToCart,downItemToCart,total};\r\n\r\n}","<template>\r\n   <div class=\"wrapper\">\r\n    <Top-area></Top-area>\r\n    <Product-list></Product-list>\r\n     <Order></Order>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {useStore} from 'vuex'\r\nimport {useRoute} from 'vue-router'\r\nimport TopArea from './TopArea.vue'\r\nimport ProductList from './ProductList.vue'\r\nimport Order from './Order.vue'\r\n\r\nconst orderUseEffect=()=>{\r\n    const store=useStore();\r\n    const route=useRoute();\r\n    const shopId=route.params.id;\r\n    const shopName=store.state.cartList[shopId].shopName;\r\n    const productList=store.state.cartList[shopId].productList;\r\n    return {shopName,shopId,productList};\r\n}\r\n\r\nexport default {\r\n  components: { TopArea, ProductList, Order },\r\n     name: 'OrderConfirmation',\r\n     setup(){\r\n        const {shopName,shopId,productList}=orderUseEffect();\r\n        return {shopName,shopId,productList};\r\n     }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n@import '../../style/mixins.scss';\r\n\r\n.wrapper {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  background-color: #eee;\r\n}\r\n\r\n\r\n.order {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  height: .49rem;\r\n  line-height: .49rem;\r\n  background: #FFF;\r\n  &__price {\r\n    flex: 1;\r\n    text-indent: .24rem;\r\n    font-size: .14rem;\r\n    color: #333;\r\n  }\r\n  &__btn {\r\n    width: .98rem;\r\n    background: #4FB0F9;\r\n    color: #fff;\r\n    text-align: center;\r\n    font-size: .14rem;\r\n  }\r\n}\r\n</style>","<template>\r\n     <div class=\"top\">\r\n      <div class=\"top__header\">\r\n        <div\r\n          class=\"iconfont top__header__back\"\r\n          @click=\"handleBackClick\"\r\n        >&#xe679;</div>\r\n        确认订单\r\n      </div>\r\n      <div class=\"top__receiver\">\r\n        <div class=\"top__receiver__title\">收货地址</div>\r\n        <div class=\"top__receiver__address\">北京理工大学国防科技园2号楼10层</div>\r\n        <div class=\"top__receiver__info\">\r\n          <span class=\"top__receiver__info__name\">瑶妹（先生）</span>\r\n          <span class=\"top__receiver__info__name\">18911024266</span>\r\n        </div>\r\n        <div class=\"iconfont top__receiver__icon\">&#xe679;</div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {useRouter} from 'vue-router'\r\n\r\nconst orderUseEffect=()=>{\r\n    const router=useRouter();\r\n    const handleBackClick=()=>{\r\n         router.back();\r\n    }\r\n    return {handleBackClick};\r\n}\r\n\r\nexport default {\r\n     name: 'TopArea',\r\n     setup(){\r\n        const {handleBackClick}=orderUseEffect();\r\n        return {handleBackClick};\r\n     }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n\r\n.top {\r\n  position: relative;\r\n  height: 1.96rem;\r\n  background-size: 100% 1.59rem;\r\n  background-image: linear-gradient(0deg, rgba(0,145,255,0.00) 4%, $btnColor 50%);\r\n  background-repeat: no-repeat;\r\n  &__header {\r\n    position: relative;\r\n    padding-top: .26rem;\r\n    line-height: .24rem;\r\n    color: $bgColor;\r\n    text-align: center;\r\n    font-size: .16rem;\r\n    &__back {\r\n      position: absolute;\r\n      left: .18rem;\r\n      font-size: .22rem;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  &__receiver {\r\n    position: absolute;\r\n    left: .18rem;\r\n    right: .18rem;\r\n    bottom: 0;\r\n    height: 1.11rem;\r\n    background: $bgColor;\r\n    border-radius: .04rem;\r\n    &__title {\r\n      line-height: .22rem;\r\n      padding: .16rem 0 .14rem .16rem;\r\n      font-size: .16rem;\r\n      color: $content-fontcolor;\r\n    }\r\n    &__address {\r\n      line-height: .2rem;\r\n      padding: 0 .4rem 0 .16rem;\r\n      font-size: .14rem;\r\n      color: $content-fontcolor;\r\n    }\r\n    &__info {\r\n      padding: .06rem 0 0 .16rem;\r\n      &__name {\r\n        margin-right: .06rem;\r\n        line-height: .18rem;\r\n        font-size: .12rem;\r\n        color: $medium-fontColor;\r\n      }\r\n    }\r\n    &__icon {\r\n      transform: rotate(180deg);\r\n      position: absolute;\r\n      right: .16rem;\r\n      top: .5rem;\r\n      color: $medium-fontColor;\r\n      font-size: .2rem;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./TopArea.vue?vue&type=template&id=5fb9f1a3&scoped=true\"\nimport script from \"./TopArea.vue?vue&type=script&lang=js\"\nexport * from \"./TopArea.vue?vue&type=script&lang=js\"\n\nimport \"./TopArea.vue?vue&type=style&index=0&id=5fb9f1a3&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\慕课\\\\Vue3\\\\daojia\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5fb9f1a3\"]])\n\nexport default __exports__","<template>\r\n       <div class=\"products\">\r\n      <div class=\"products__title\">\r\n        {{shopName}}\r\n      </div>\r\n      <div class=\"products__wrapper\">\r\n       <div class=\"products__list\">\r\n        <template v-for=\"item in productList\" :key=\"item._id\">\r\n        <div\r\n          class=\"products__item\"\r\n          v-if=\"item.count>0\"\r\n        >\r\n          <img class=\"products__item__img\" :src=\"item.imgUrl\" />\r\n          <div class=\"products__item__detail\">\r\n            <h4 class=\"products__item__title\">{{item.name}}</h4>\r\n            <p class=\"products__item__price\">\r\n              <span>\r\n                <span class=\"products__item__yen\">&yen; </span>\r\n                {{item.price}} x {{item.count}}\r\n              </span>\r\n              <span class=\"products__item__total\">\r\n                 <span class=\"products__item__yen\">&yen; </span>\r\n                {{(item.price * item.count).toFixed(2)}}\r\n              </span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        </template>\r\n       </div>\r\n       </div>\r\n    </div> \r\n</template>\r\n\r\n<script>\r\nimport {useStore} from 'vuex'\r\nimport {useRoute} from 'vue-router'\r\n\r\nconst orderUseEffect=()=>{\r\n    const store=useStore();\r\n    const route=useRoute();\r\n    const shopId=route.params.id;\r\n    const shopName=store.state.cartList[shopId].shopName;\r\n    const productList=store.state.cartList[shopId].productList;\r\n    return {shopName,shopId,productList};\r\n}\r\n\r\nexport default {\r\n     name: 'ProductList',\r\n     setup(){\r\n        const {shopName,shopId,productList}=orderUseEffect();\r\n        return {shopName,shopId,productList};\r\n     }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n@import '../../style/mixins.scss';\r\n\r\n.products {\r\n  margin: .16rem .18rem .55rem .18rem;\r\n  background: #FFF;\r\n\r\n  &__title {\r\n    padding: .12rem .16rem .06rem .16rem;\r\n    font-size: .16rem;\r\n    color: #333;\r\n    border-bottom:.01rem solid #f1f1f1 ;\r\n  }\r\n  &__wrapper{\r\n    overflow-y:scroll ;\r\n    position: absolute;\r\n    // top:0;\r\n    top: 2.5rem;\r\n    left:.18rem;\r\n    right:.18rem;\r\n    bottom: .6rem;\r\n  }\r\n  &__item {\r\n     background: #FFF;\r\n    position: relative;\r\n    display: flex;\r\n    padding: .16rem;\r\n    &__img {\r\n      width: .46rem;\r\n      height: .46rem;\r\n      margin-right: .16rem;\r\n    }\r\n    &__detail {\r\n      flex: 1;\r\n    }\r\n    &__title {\r\n      margin: 0;\r\n      line-height: .2rem;\r\n      font-size: .14rem;\r\n      color: $content-fontcolor;\r\n      @include ellipsis;\r\n    }\r\n    &__price {\r\n      display: flex;\r\n      margin: .06rem 0 0 0;\r\n      line-height: .2rem;\r\n      font-size: .14rem;\r\n      color: $hightight0fontColor;\r\n    }\r\n    &__total {\r\n      flex: 1;\r\n      text-align: right;\r\n      color: #000;\r\n    }\r\n    &__yen {\r\n      font-size: .12rem;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./ProductList.vue?vue&type=template&id=826ae776&scoped=true\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js\"\n\nimport \"./ProductList.vue?vue&type=style&index=0&id=826ae776&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\慕课\\\\Vue3\\\\daojia\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-826ae776\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"order\">\r\n      <div class=\"order__price\">实付金额 <b>¥{{total[1]}}</b></div>\r\n      <div class=\"order__btn\" @click=\"submitOrder(true)\">提交订单</div>\r\n    </div>\r\n     <div class=\"mask\"  v-show=\"isshow\" @click=\"submitOrder(false)\">\r\n    <div class=\"mask__content\" @click.stop>\r\n      <h3 class=\"mask__content__title\">确认要离开收银台？</h3>\r\n      <p class=\"mask__content__desc\">请尽快完成支付，否则将被取消</p>\r\n      <div class=\"mask__content__btns\">\r\n        <div\r\n          class=\"mask__content__btn mask__content__btn--first\"\r\n          @click=\"handleConfirmOrder(total,true)\"\r\n        >取消订单</div>\r\n        <div\r\n          class=\"mask__content__btn mask__content__btn--last\"\r\n          @click=\"handleConfirmOrder(total,false)\"\r\n        >确认支付</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { post } from '../../utils/request'\r\nimport { useCommonEffert } from '../shop/commonCartEffect'\r\nimport {useRoute,useRouter} from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport {ref} from 'vue'\r\n\r\nconst orderUseEffect=(shopId,total)=>{\r\n    const router = useRouter()\r\n    const store = useStore()\r\n    const isshow=ref(false);\r\n    const submitOrder=(state)=>{\r\n            isshow.value=state;\r\n        }\r\n    const handleConfirmOrder=async(isCanceled)=>{     \r\n        const productList=total[2];\r\n        const products=[];\r\n        for(let i in productList)\r\n        {\r\n            const product=productList[i]\r\n            products.push({ id:parseInt(product._id),num:product.count})\r\n        }\r\n        try{\r\n            const result=await post('/api/order',{\r\n                addressId:1,\r\n                shopId:parseInt(shopId),\r\n                shopName:total[3],\r\n                isCanceled,\r\n                products\r\n            })\r\n            if(result?.errno===0)\r\n            {\r\n                store.commit('cleanCartProducts',{shopId})\r\n                router.push({name:'OrderList'})   \r\n            }\r\n        }catch(e){\r\n            //如果失败提示失败\r\n        }\r\n    }\r\n    return {handleConfirmOrder,submitOrder,isshow};\r\n}\r\n\r\nexport default {\r\n    name:'Order',\r\n    setup(){\r\n        const route=useRoute();\r\n        const shopId=parseInt(route.params.id,10);\r\n        const {total}=useCommonEffert(shopId);\r\n        const  {handleConfirmOrder,submitOrder,isshow}=orderUseEffect(shopId,total);\r\n        // const {handleConfirmOrder}=orderUseEffect(total,shopId)；\r\n        return {handleConfirmOrder,total,isshow,submitOrder};    \r\n    }\r\n    \r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n\r\n.order {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  height: .49rem;\r\n  line-height: .49rem;\r\n  background: #FFF;\r\n  &__price {\r\n    flex: 1;\r\n    text-indent: .24rem;\r\n    font-size: .14rem;\r\n    color: #333;\r\n  }\r\n  &__btn {\r\n    width: .98rem;\r\n    background: #4FB0F9;\r\n    color: #fff;\r\n    text-align: center;\r\n    font-size: .14rem;\r\n  }\r\n}\r\n.mask {\r\n  z-index: 1;\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  background: rgba(0,0,0,0.50);\r\n  &__content {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    width: 3rem;\r\n    height: 1.56rem;\r\n    background: #FFF;\r\n    text-align: center;\r\n    border-radius: .04rem;\r\n    &__title {\r\n      margin: .24rem 0 0 0;\r\n      line-height: .26rem;\r\n      font-size: .18rem;\r\n      color: #333;\r\n    }\r\n    &__desc {\r\n      margin: .08rem 0 0 0;\r\n      font-size: .14rem;\r\n      color: #666666;\r\n    }\r\n    &__btns {\r\n      display: flex;\r\n      margin: .24rem .58rem;\r\n    }\r\n    &__btn {\r\n      flex: 1;\r\n      width: .8rem;\r\n      line-height: .32rem;\r\n      border-radius: .16rem;\r\n      font-size: .14rem;\r\n      &--first {\r\n        margin-right: .12rem;\r\n        border: .01rem solid #4FB0F9;\r\n        color: #4FB0F9;\r\n      }\r\n      &--last {\r\n        margin-left: .12rem;\r\n        background: #4FB0F9;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./Order.vue?vue&type=template&id=216e3a9e&scoped=true\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\n\nimport \"./Order.vue?vue&type=style&index=0&id=216e3a9e&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\慕课\\\\Vue3\\\\daojia\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-216e3a9e\"]])\n\nexport default __exports__","import { render } from \"./OrderConfirmation.vue?vue&type=template&id=54dcf44e&scoped=true\"\nimport script from \"./OrderConfirmation.vue?vue&type=script&lang=js\"\nexport * from \"./OrderConfirmation.vue?vue&type=script&lang=js\"\n\nimport \"./OrderConfirmation.vue?vue&type=style&index=0&id=54dcf44e&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\慕课\\\\Vue3\\\\daojia\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-54dcf44e\"]])\n\nexport default __exports__"],"names":["useCommonEffert","shopId","store","useStore","CartList","toRefs","state","addItemToCart","productid","productinfo","commit","downItemToCart","cartList","count","total","computed","productLists","productList","shopName","summoney","i","product","check","price","toFixed","class","_createElementBlock","_createVNode","_component_Top_area","_component_Product_list","_component_Order","_createElementVNode","onClick","$setup","_hoisted_4","orderUseEffect","router","useRouter","handleBackClick","back","name","setup","__exports__","_toDisplayString","_Fragment","_renderList","item","_id","src","imgUrl","_hoisted_10","_hoisted_12","route","useRoute","params","id","_hoisted_5","isshow","ref","submitOrder","value","handleConfirmOrder","async","products","push","parseInt","num","result","post","addressId","isCanceled","errno","e","components","TopArea","ProductList","Order","render"],"sourceRoot":""}